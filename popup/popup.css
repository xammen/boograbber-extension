:root {
  --bg: #0a0a0a;
  --primary: #e0e0e0;
  --body: #888;
  --secondary: #666;
  --hover: #e0e0e0;
  --border: #222;
  --surface: #111;
  --success: #4a9;
  --error: #a55;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  width: 320px;
  min-height: 400px;
  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Consolas', monospace;
  font-size: 13px; /* 0.75rem - 0.85rem range */
  background: var(--bg);
  color: var(--body);
  font-weight: 300;
}

.container {
  display: flex;
  flex-direction: column;
  min-height: 400px;
}

/* Header */
header {
  padding: 16px;
  border-bottom: 1px solid var(--border);
  text-align: center;
}

header h1 {
  font-size: 14px;
  font-weight: 400;
  color: var(--primary);
  text-transform: lowercase;
  letter-spacing: -0.5px;
}

header .subtitle {
  font-size: 12px;
  color: var(--secondary);
  margin-top: 4px;
  text-transform: lowercase;
}

/* Tabs */
.tabs {
  display: flex;
  border-bottom: 1px solid var(--border);
  background: transparent;
}

.tab {
  flex: 1;
  padding: 12px;
  background: transparent;
  border: none;
  color: var(--body);
  font-family: inherit;
  font-size: 12px;
  font-weight: 400;
  cursor: pointer;
  transition: all 0.2s ease;
  text-transform: lowercase;
  border-bottom: 1px solid transparent;
  margin-bottom: -1px;
}

.tab:hover {
  color: var(--hover);
}

.tab.active {
  color: var(--primary);
  border-bottom: 1px solid var(--primary);
}

/* Tab active indicator removal (handled by border-bottom above) */
.tab.active::after {
  display: none;
}

/* Main content */
main {
  flex: 1;
  overflow-y: auto;
}

.tab-content {
  display: none;
  padding: 16px;
}

.tab-content.active {
  display: block;
}

/* History - Card Grid */
.history-list {
  max-height: 300px;
  overflow-y: auto;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
}

.history-card {
  position: relative;
  border: 1px solid var(--border);
  border-radius: 4px;
  background: var(--surface);
  overflow: hidden;
  transition: all 0.2s ease;
}

.history-card:hover {
  border-color: var(--body);
}

.history-delete-btn {
  position: absolute;
  top: 4px;
  right: 4px;
  width: 18px;
  height: 18px;
  border: none;
  border-radius: 3px;
  background: rgba(0, 0, 0, 0.6);
  color: var(--body);
  font-size: 14px;
  cursor: pointer;
  opacity: 0;
  transition: all 0.2s ease;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  line-height: 1;
}

.history-card:hover .history-delete-btn {
  opacity: 1;
}

.history-delete-btn:hover {
  background: var(--error);
  color: #fff;
}

.history-pin-btn {
  position: absolute;
  top: 4px;
  left: 4px;
  width: 18px;
  height: 18px;
  border: none;
  border-radius: 3px;
  background: rgba(0, 0, 0, 0.6);
  cursor: pointer;
  opacity: 0;
  transition: all 0.2s ease;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 3px;
}

.history-pin-btn img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  opacity: 0.5;
  transition: opacity 0.2s ease;
}

.history-card:hover .history-pin-btn {
  opacity: 1;
}

.history-pin-btn:hover {
  background: rgba(74, 153, 153, 0.4);
}

.history-pin-btn:hover img {
  opacity: 1;
}

.history-pin-btn.is-pinned {
  opacity: 1;
  background: rgba(74, 153, 153, 0.5);
}

.history-pin-btn.is-pinned img {
  opacity: 1;
}

.history-card.pinned {
  border-color: var(--success);
}

/* Pinned toggle */
.pinned-toggle {
  margin-bottom: 10px;
}

.toggle-pinned-btn {
  width: 100%;
  padding: 8px 12px;
  border: 1px solid var(--border);
  border-radius: 4px;
  background: var(--surface);
  color: var(--body);
  font-size: 11px;
  font-family: inherit;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: all 0.2s ease;
}

.toggle-pinned-btn:hover {
  border-color: var(--body);
  color: var(--primary);
}

.pin-icon {
  width: 12px;
  height: 12px;
  opacity: 0.8;
}

#toggle-arrow {
  margin-left: auto;
  font-size: 10px;
}

/* Preview square */
.history-preview {
  position: relative;
  width: 100%;
  aspect-ratio: 1;
  background: var(--border);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

.history-preview img,
.history-preview canvas {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.history-preview .preview-animated {
  position: absolute;
  top: 0;
  left: 0;
}

.history-preview.no-preview {
  background: var(--border);
}

.preview-placeholder {
  color: var(--secondary);
  font-size: 11px;
  text-transform: uppercase;
}

/* Card info */
.history-card-info {
  padding: 8px;
}

.history-card-name {
  font-size: 11px;
  color: var(--primary);
  margin-bottom: 2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.history-card-meta {
  font-size: 10px;
  color: var(--secondary);
  margin-bottom: 6px;
}

.history-card-actions {
  display: flex;
  gap: 6px;
}

.history-copy-btn {
  flex: 1;
  padding: 4px 6px;
  border: 1px solid var(--border);
  border-radius: 3px;
  background: transparent;
  color: var(--body);
  font-size: 10px;
  font-family: inherit;
  cursor: pointer;
  transition: all 0.2s ease;
}

.history-copy-btn:hover {
  color: var(--success);
  border-color: var(--success);
}

.history-copy-btn.copied {
  color: var(--success);
  border-color: var(--success);
}

.history-tweet-btn {
  padding: 4px 8px;
  border: 1px solid var(--border);
  border-radius: 3px;
  color: var(--body);
  font-size: 10px;
  text-decoration: none;
  transition: all 0.2s ease;
}

.history-tweet-btn:hover {
  color: var(--primary);
  border-color: var(--body);
}

/* Empty state */
.empty-state {
  text-align: center;
  padding: 40px 20px;
  color: var(--secondary);
}

.empty-icon {
  display: inline-block;
  padding: 6px 12px;
  border-radius: 4px;
  background: var(--border);
  color: var(--body);
  font-size: 12px;
  margin-bottom: 16px;
  font-family: inherit;
}

.empty-state p {
  font-size: 13px;
  margin-bottom: 4px;
  text-transform: lowercase;
}

.empty-state .hint {
  font-size: 11px;
  color: var(--secondary);
}

/* Settings */
.setting-group {
  margin-bottom: 20px;
}

.setting-group label {
  display: block;
  margin-bottom: 8px;
}

.setting-label {
  font-size: 13px;
  color: var(--body);
  display: block;
  text-transform: lowercase;
}

.setting-hint {
  font-size: 11px;
  color: var(--secondary);
  margin-top: 4px;
  display: block;
  text-transform: lowercase;
}

.setting-group input[type="range"] {
  width: calc(100% - 40px);
  vertical-align: middle;
  height: 4px;
  background: var(--border);
  border-radius: 2px;
  -webkit-appearance: none;
}

.setting-group input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 12px;
  height: 12px;
  background: var(--primary);
  border-radius: 50%; /* standard thumb is ok, or maybe square for brutalism? Design said border-radius 4px generally, but sliders usually circle. Keep circle or make square? Prompt doesn't specify slider thumb, but minimal usually implies simple. I'll stick to simple circle or square. Let's go with square-ish to match theme */
  border-radius: 2px;
  cursor: pointer;
}

.setting-value {
  display: inline-block;
  width: 30px;
  text-align: right;
  font-size: 12px;
  color: var(--secondary);
  font-family: inherit;
}

.setting-group select {
  width: 100%;
  padding: 8px 12px;
  border: 1px solid var(--border);
  border-radius: 4px;
  background: var(--surface);
  color: var(--primary);
  font-size: 12px;
  font-family: inherit;
  cursor: pointer;
  outline: none;
  transition: border-color 0.2s ease;
}

.setting-group select:focus,
.setting-group select:hover {
  border-color: var(--body);
}

.checkbox-label {
  display: flex !important;
  align-items: center;
  gap: 10px;
  cursor: pointer;
}

.checkbox-label input[type="checkbox"] {
  width: 16px;
  height: 16px;
  accent-color: var(--surface); /* Browsers handle this differently, but for custom styling we might need appearance: none. Let's keep it simple for now or use border/bg. */
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 2px;
  cursor: pointer;
  -webkit-appearance: none;
  appearance: none;
  position: relative;
}

.checkbox-label input[type="checkbox"]:checked {
  background: var(--surface);
  border-color: var(--primary);
}

.checkbox-label input[type="checkbox"]:checked::after {
  content: 'x';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -60%);
  color: var(--primary);
  font-size: 10px;
}

/* Buttons */
.btn-primary,
.btn-secondary {
  width: 100%;
  padding: 10px 16px;
  border: 1px solid var(--border);
  border-radius: 4px;
  font-size: 12px;
  font-family: inherit;
  cursor: pointer;
  transition: all 0.2s ease;
  text-transform: lowercase;
  background: var(--surface);
  color: var(--body);
  text-align: center;
}

.btn-primary:hover,
.btn-secondary:hover {
  color: var(--primary);
  border-color: var(--body);
}

.btn-secondary {
  margin-top: 16px;
  opacity: 0.8;
}

/* Footer */
footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px;
  border-top: 1px solid var(--border);
  font-size: 11px;
  color: var(--secondary);
}

footer a {
  color: var(--body);
  text-decoration: none;
  transition: color 0.2s ease;
  text-transform: lowercase;
}

footer a:hover {
  color: var(--primary);
}

/* Scrollbar */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: var(--bg);
}

::-webkit-scrollbar-thumb {
  background: var(--border);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: #333;
}
